<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; L2 // Предобработка данных. Дата и время. Визуализация данных – L // WLM 2023</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./part-math.html" rel="next">
<link href="./l1.html" rel="prev">
<link href="./pics/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-01c78b5cd655e4cd89133cf59d535862.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-474c6d7e63be50eb6972897072b39b27.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-3f14476484311c28f16e4ef7388d5d41.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-317518b595e9c4efdce348cd04e6c053.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Ничего не найдено",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Очистить",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Отмена",
    "search-submit-button-title": "Отправить",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./pics/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">WLM 2023 // HSE UX LAB</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./../hub/index.html"> 
<span class="menu-text">Хаб</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./../lectures/index.html"> 
<span class="menu-text">Лекции</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./../practice/index.html"> 
<span class="menu-text">Практики</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./../homeworks/index.html"> 
<span class="menu-text">Домашки</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./../projects/index.html"> 
<span class="menu-text">Проекты</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./l2.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">L2 // Предобработка данных. Дата и время. Визуализация данных</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Вступление</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">R</span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">L1 // Основы R. Типы и структура данных. Функции и управляющие конструкции</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">L2 // Предобработка данных. Дата и время. Визуализация данных</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Математика и статистика</span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">L3 // Математика для анализа данных</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">L4 // Теория измерений</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">L5 // Введение в статистику. Случайный эксперимент и случайные величины</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">L6 // Оценивание параметров в практике статистического анализа. Тестирование статистических гипотез</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Анализ данных</span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">L7 // Описательные статистики. Корреляционный анализ</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">L8 // Общие линейные модели. Простая и множественная линейная регрессия</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">L9 // Дисперсионный анализ. Ковариационный анализ</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">L10 // Обобщенные линейные модели. Логистическая регрессия. Пуассоновская регрессия</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">L12 // Линейные модели со смешанными эффектами</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">L13 // Кластерный анализ</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">L14 // Анализ главных компонент и эксплораторный факторный анализ</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./l15.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">L15 // Структурное моделирование и конфирматорный факторный анализ</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Источники</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Содержание</h2>
   
  <ul>
  <li><a href="#форматы-файлов-данных" id="toc-форматы-файлов-данных" class="nav-link active" data-scroll-target="#форматы-файлов-данных"><span class="header-section-number">2.1</span> Форматы файлов данных</a>
  <ul class="collapse">
  <li><a href="#csv" id="toc-csv" class="nav-link" data-scroll-target="#csv"><span class="header-section-number">2.1.1</span> CSV</a></li>
  <li><a href="#tsv" id="toc-tsv" class="nav-link" data-scroll-target="#tsv"><span class="header-section-number">2.1.2</span> TSV</a></li>
  <li><a href="#txt" id="toc-txt" class="nav-link" data-scroll-target="#txt"><span class="header-section-number">2.1.3</span> TXT</a></li>
  </ul></li>
  <li><a href="#табличные-форматы" id="toc-табличные-форматы" class="nav-link" data-scroll-target="#табличные-форматы"><span class="header-section-number">2.2</span> Табличные форматы</a></li>
  <li><a href="#форматы-файлов-данных-c-особой-разметкой" id="toc-форматы-файлов-данных-c-особой-разметкой" class="nav-link" data-scroll-target="#форматы-файлов-данных-c-особой-разметкой"><span class="header-section-number">2.3</span> Форматы файлов данных c особой разметкой</a>
  <ul class="collapse">
  <li><a href="#json" id="toc-json" class="nav-link" data-scroll-target="#json"><span class="header-section-number">2.3.1</span> JSON</a></li>
  <li><a href="#xml" id="toc-xml" class="nav-link" data-scroll-target="#xml"><span class="header-section-number">2.3.2</span> XML</a></li>
  </ul></li>
  <li><a href="#организация-рабочего-пространства" id="toc-организация-рабочего-пространства" class="nav-link" data-scroll-target="#организация-рабочего-пространства"><span class="header-section-number">2.4</span> Организация рабочего пространства</a></li>
  <li><a href="#путь-к-файлу" id="toc-путь-к-файлу" class="nav-link" data-scroll-target="#путь-к-файлу"><span class="header-section-number">2.5</span> Путь к файлу</a></li>
  <li><a href="#projects" id="toc-projects" class="nav-link" data-scroll-target="#projects"><span class="header-section-number">2.6</span> Projects</a>
  <ul class="collapse">
  <li><a href="#l2-create-project" id="toc-l2-create-project" class="nav-link" data-scroll-target="#l2-create-project"><span class="header-section-number">2.6.1</span> Как создать проект?</a></li>
  </ul></li>
  <li><a href="#кодировка" id="toc-кодировка" class="nav-link" data-scroll-target="#кодировка"><span class="header-section-number">2.7</span> Кодировка</a></li>
  <li><a href="#первичное-исследование-данных" id="toc-первичное-исследование-данных" class="nav-link" data-scroll-target="#первичное-исследование-данных"><span class="header-section-number">2.8</span> Первичное исследование данных</a></li>
  <li><a href="#зачем-нам-предобрабатывать-данные" id="toc-зачем-нам-предобрабатывать-данные" class="nav-link" data-scroll-target="#зачем-нам-предобрабатывать-данные"><span class="header-section-number">2.9</span> Зачем нам предобрабатывать данные?</a></li>
  <li><a href="#концепция-tidy-data" id="toc-концепция-tidy-data" class="nav-link" data-scroll-target="#концепция-tidy-data"><span class="header-section-number">2.10</span> Концепция Tidy Data</a></li>
  <li><a href="#семейство-пакетов-tidyverse" id="toc-семейство-пакетов-tidyverse" class="nav-link" data-scroll-target="#семейство-пакетов-tidyverse"><span class="header-section-number">2.11</span> Семейство пакетов <code>tidyverse</code></a></li>
  <li><a href="#импорт-данных.-tibble" id="toc-импорт-данных.-tibble" class="nav-link" data-scroll-target="#импорт-данных.-tibble"><span class="header-section-number">2.12</span> Импорт данных. <code>tibble</code></a></li>
  <li><a href="#pipe" id="toc-pipe" class="nav-link" data-scroll-target="#pipe"><span class="header-section-number">2.13</span> Pipe</a></li>
  <li><a href="#переименование-переменных" id="toc-переименование-переменных" class="nav-link" data-scroll-target="#переименование-переменных"><span class="header-section-number">2.14</span> Переименование переменных</a></li>
  <li><a href="#фильтрация-данных.-строки" id="toc-фильтрация-данных.-строки" class="nav-link" data-scroll-target="#фильтрация-данных.-строки"><span class="header-section-number">2.15</span> Фильтрация данных. Строки</a></li>
  <li><a href="#фильтрация-данных.-столбцы" id="toc-фильтрация-данных.-столбцы" class="nav-link" data-scroll-target="#фильтрация-данных.-столбцы"><span class="header-section-number">2.16</span> Фильтрация данных. Столбцы</a></li>
  <li><a href="#сортировка-данных" id="toc-сортировка-данных" class="nav-link" data-scroll-target="#сортировка-данных"><span class="header-section-number">2.17</span> Сортировка данных</a></li>
  <li><a href="#создание-и-изменение-переменных" id="toc-создание-и-изменение-переменных" class="nav-link" data-scroll-target="#создание-и-изменение-переменных"><span class="header-section-number">2.18</span> Создание и изменение переменных</a></li>
  <li><a href="#группировка-и-агрегация-данных" id="toc-группировка-и-агрегация-данных" class="nav-link" data-scroll-target="#группировка-и-агрегация-данных"><span class="header-section-number">2.19</span> Группировка и агрегация данных</a></li>
  <li><a href="#объединение-датасетов.-строки-и-столбцы" id="toc-объединение-датасетов.-строки-и-столбцы" class="nav-link" data-scroll-target="#объединение-датасетов.-строки-и-столбцы"><span class="header-section-number">2.20</span> Объединение датасетов. Строки и столбцы</a></li>
  <li><a href="#объединение-датасетов.-ключ" id="toc-объединение-датасетов.-ключ" class="nav-link" data-scroll-target="#объединение-датасетов.-ключ"><span class="header-section-number">2.21</span> Объединение датасетов. Ключ</a></li>
  <li><a href="#inner_join" id="toc-inner_join" class="nav-link" data-scroll-target="#inner_join"><span class="header-section-number">2.22</span> <code>inner_join()</code></a></li>
  <li><a href="#left_join" id="toc-left_join" class="nav-link" data-scroll-target="#left_join"><span class="header-section-number">2.23</span> <code>left_join()</code></a></li>
  <li><a href="#right_join" id="toc-right_join" class="nav-link" data-scroll-target="#right_join"><span class="header-section-number">2.24</span> <code>right_join()</code></a></li>
  <li><a href="#full_join" id="toc-full_join" class="nav-link" data-scroll-target="#full_join"><span class="header-section-number">2.25</span> <code>full_join()</code></a></li>
  <li><a href="#semi_join" id="toc-semi_join" class="nav-link" data-scroll-target="#semi_join"><span class="header-section-number">2.26</span> <code>semi_join()</code></a></li>
  <li><a href="#anti_join" id="toc-anti_join" class="nav-link" data-scroll-target="#anti_join"><span class="header-section-number">2.27</span> <code>anti_join()</code></a></li>
  <li><a href="#дублирование-ключа" id="toc-дублирование-ключа" class="nav-link" data-scroll-target="#дублирование-ключа"><span class="header-section-number">2.28</span> Дублирование ключа</a></li>
  <li><a href="#способы-объединения-по-ключу-на-диаграммах-венна" id="toc-способы-объединения-по-ключу-на-диаграммах-венна" class="nav-link" data-scroll-target="#способы-объединения-по-ключу-на-диаграммах-венна"><span class="header-section-number">2.29</span> Способы объединения по ключу на диаграммах Венна</a></li>
  <li><a href="#широкий-и-длинный-форматы-данных" id="toc-широкий-и-длинный-форматы-данных" class="nav-link" data-scroll-target="#широкий-и-длинный-форматы-данных"><span class="header-section-number">2.30</span> Широкий и длинный форматы данных</a></li>
  <li><a href="#строки" id="toc-строки" class="nav-link" data-scroll-target="#строки"><span class="header-section-number">2.31</span> Строки</a>
  <ul class="collapse">
  <li><a href="#как-создать-строку" id="toc-как-создать-строку" class="nav-link" data-scroll-target="#как-создать-строку"><span class="header-section-number">2.31.1</span> Как создать строку?</a></li>
  </ul></li>
  <li><a href="#генерация-случайных-строк" id="toc-генерация-случайных-строк" class="nav-link" data-scroll-target="#генерация-случайных-строк"><span class="header-section-number">2.32</span> Генерация случайных строк</a></li>
  <li><a href="#операции-над-строками" id="toc-операции-над-строками" class="nav-link" data-scroll-target="#операции-над-строками"><span class="header-section-number">2.33</span> Операции над строками</a>
  <ul class="collapse">
  <li><a href="#конкатенация-строк" id="toc-конкатенация-строк" class="nav-link" data-scroll-target="#конкатенация-строк"><span class="header-section-number">2.33.1</span> Конкатенация строк</a></li>
  <li><a href="#разделение-строк" id="toc-разделение-строк" class="nav-link" data-scroll-target="#разделение-строк"><span class="header-section-number">2.33.2</span> Разделение строк</a></li>
  <li><a href="#сортировка-строк" id="toc-сортировка-строк" class="nav-link" data-scroll-target="#сортировка-строк"><span class="header-section-number">2.33.3</span> Сортировка строк</a></li>
  <li><a href="#изменение-строк" id="toc-изменение-строк" class="nav-link" data-scroll-target="#изменение-строк"><span class="header-section-number">2.33.4</span> Изменение строк</a></li>
  </ul></li>
  <li><a href="#регулярные-выражения" id="toc-регулярные-выражения" class="nav-link" data-scroll-target="#регулярные-выражения"><span class="header-section-number">2.34</span> Регулярные выражения</a>
  <ul class="collapse">
  <li><a href="#метасимволы" id="toc-метасимволы" class="nav-link" data-scroll-target="#метасимволы"><span class="header-section-number">2.34.1</span> Метасимволы</a></li>
  <li><a href="#классы-знаков" id="toc-классы-знаков" class="nav-link" data-scroll-target="#классы-знаков"><span class="header-section-number">2.34.2</span> Классы знаков</a></li>
  <li><a href="#квантификация" id="toc-квантификация" class="nav-link" data-scroll-target="#квантификация"><span class="header-section-number">2.34.3</span> Квантификация</a></li>
  </ul></li>
  <li><a href="#дата-и-время" id="toc-дата-и-время" class="nav-link" data-scroll-target="#дата-и-время"><span class="header-section-number">2.35</span> Дата и время</a>
  <ul class="collapse">
  <li><a href="#почему-это-особый-тип-данных" id="toc-почему-это-особый-тип-данных" class="nav-link" data-scroll-target="#почему-это-особый-тип-данных"><span class="header-section-number">2.35.1</span> Почему это особый тип данных?</a></li>
  </ul></li>
  <li><a href="#форматы-даты-и-времени" id="toc-форматы-даты-и-времени" class="nav-link" data-scroll-target="#форматы-даты-и-времени"><span class="header-section-number">2.36</span> Форматы даты и времени</a></li>
  <li><a href="#операции-над-датами" id="toc-операции-над-датами" class="nav-link" data-scroll-target="#операции-над-датами"><span class="header-section-number">2.37</span> Операции над датами</a></li>
  <li><a href="#зачем-нужна-визуализация" id="toc-зачем-нужна-визуализация" class="nav-link" data-scroll-target="#зачем-нужна-визуализация"><span class="header-section-number">2.38</span> Зачем нужна визуализация?</a>
  <ul class="collapse">
  <li><a href="#квартет-анскомба" id="toc-квартет-анскомба" class="nav-link" data-scroll-target="#квартет-анскомба"><span class="header-section-number">2.38.1</span> Квартет Анскомба</a></li>
  <li><a href="#datasaurus" id="toc-datasaurus" class="nav-link" data-scroll-target="#datasaurus"><span class="header-section-number">2.38.2</span> Datasaurus</a></li>
  </ul></li>
  <li><a href="#виды-графиков" id="toc-виды-графиков" class="nav-link" data-scroll-target="#виды-графиков"><span class="header-section-number">2.39</span> Виды графиков</a>
  <ul class="collapse">
  <li><a href="#столбчатая-диаграмма-bar-plot-bar-graph" id="toc-столбчатая-диаграмма-bar-plot-bar-graph" class="nav-link" data-scroll-target="#столбчатая-диаграмма-bar-plot-bar-graph"><span class="header-section-number">2.39.1</span> Столбчатая диаграмма (Bar plot, Bar graph)</a></li>
  <li><a href="#лучевая-диаграмма-sunburts" id="toc-лучевая-диаграмма-sunburts" class="nav-link" data-scroll-target="#лучевая-диаграмма-sunburts"><span class="header-section-number">2.39.2</span> Лучевая диаграмма (Sunburts)</a></li>
  <li><a href="#круговая-диаграмма-pie-chart" id="toc-круговая-диаграмма-pie-chart" class="nav-link" data-scroll-target="#круговая-диаграмма-pie-chart"><span class="header-section-number">2.39.3</span> Круговая диаграмма (Pie chart)</a></li>
  <li><a href="#линейная-диаграмма-line-graph-line-plot" id="toc-линейная-диаграмма-line-graph-line-plot" class="nav-link" data-scroll-target="#линейная-диаграмма-line-graph-line-plot"><span class="header-section-number">2.39.4</span> Линейная диаграмма (Line graph, Line plot)</a></li>
  <li><a href="#гистограмма-histogram" id="toc-гистограмма-histogram" class="nav-link" data-scroll-target="#гистограмма-histogram"><span class="header-section-number">2.39.5</span> Гистограмма (Histogram)</a></li>
  <li><a href="#график-плотности-распределения-density-plot" id="toc-график-плотности-распределения-density-plot" class="nav-link" data-scroll-target="#график-плотности-распределения-density-plot"><span class="header-section-number">2.39.6</span> График плотности распределения (Density plot)</a></li>
  <li><a href="#dot-plot" id="toc-dot-plot" class="nav-link" data-scroll-target="#dot-plot"><span class="header-section-number">2.39.7</span> Dot plot</a></li>
  <li><a href="#ящик-с-усами-boxplot" id="toc-ящик-с-усами-boxplot" class="nav-link" data-scroll-target="#ящик-с-усами-boxplot"><span class="header-section-number">2.39.8</span> Ящик с усами (Boxplot)</a></li>
  <li><a href="#violin-plot" id="toc-violin-plot" class="nav-link" data-scroll-target="#violin-plot"><span class="header-section-number">2.39.9</span> Violin plot</a></li>
  <li><a href="#график-интервальных-оценок-error-bar" id="toc-график-интервальных-оценок-error-bar" class="nav-link" data-scroll-target="#график-интервальных-оценок-error-bar"><span class="header-section-number">2.39.10</span> График интервальных оценок (Error bar)</a></li>
  <li><a href="#диаграмма-рассеяния-scatter-plot" id="toc-диаграмма-рассеяния-scatter-plot" class="nav-link" data-scroll-target="#диаграмма-рассеяния-scatter-plot"><span class="header-section-number">2.39.11</span> Диаграмма рассеяния (Scatter plot)</a></li>
  <li><a href="#пузырьковая-диаграмма-bubble-plot" id="toc-пузырьковая-диаграмма-bubble-plot" class="nav-link" data-scroll-target="#пузырьковая-диаграмма-bubble-plot"><span class="header-section-number">2.39.12</span> Пузырьковая диаграмма (Bubble plot)</a></li>
  <li><a href="#корреляционная-матрица-corrplot" id="toc-корреляционная-матрица-corrplot" class="nav-link" data-scroll-target="#корреляционная-матрица-corrplot"><span class="header-section-number">2.39.13</span> Корреляционная матрица (Corrplot)</a></li>
  </ul></li>
  <li><a href="#good-bad-practices-в-визуализации" id="toc-good-bad-practices-в-визуализации" class="nav-link" data-scroll-target="#good-bad-practices-в-визуализации"><span class="header-section-number">2.40</span> Good &amp; Bad practices в визуализации</a>
  <ul class="collapse">
  <li><a href="#хорошо" id="toc-хорошо" class="nav-link" data-scroll-target="#хорошо"><span class="header-section-number">2.40.1</span> Хорошо</a></li>
  <li><a href="#плохо" id="toc-плохо" class="nav-link" data-scroll-target="#плохо"><span class="header-section-number">2.40.2</span> Плохо</a></li>
  </ul></li>
  <li><a href="#философия-a-layered-grammar-of-graphics" id="toc-философия-a-layered-grammar-of-graphics" class="nav-link" data-scroll-target="#философия-a-layered-grammar-of-graphics"><span class="header-section-number">2.41</span> Философия A Layered Grammar of Graphics</a></li>
  <li><a href="#итоги" id="toc-итоги" class="nav-link" data-scroll-target="#итоги"><span class="header-section-number">2.42</span> Итоги</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">L2 // Предобработка данных. Дата и время. Визуализация данных</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="форматы-файлов-данных" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="форматы-файлов-данных"><span class="header-section-number">2.1</span> Форматы файлов данных</h2>
<section id="csv" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="csv"><span class="header-section-number">2.1.1</span> CSV</h3>
<ul>
<li>Текстовый формат</li>
<li>Значения разделены запятыми (<strong>C</strong>omma-<strong>S</strong>eparated <strong>V</strong>alues)
<ul>
<li>Но это не точно</li>
</ul></li>
</ul>
<p>Прочитать данные этого формата можно функцией</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read.csv</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tsv" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="tsv"><span class="header-section-number">2.1.2</span> TSV</h3>
<ul>
<li>Текстовый формат</li>
<li>Значения разделены знаком табуляции (<code>\t</code>, <strong>T</strong>ab-<strong>S</strong>eparated <strong>V</strong>alues)</li>
</ul>
<p>Прочитать данные этого формата можно функцией</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read.table</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="txt" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="txt"><span class="header-section-number">2.1.3</span> TXT</h3>
<ul>
<li>Текстовый формат</li>
<li>Разделитель может быть любой</li>
</ul>
<p>Прочитать данные этого формата можно функцией</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read.table</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="табличные-форматы" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="табличные-форматы"><span class="header-section-number">2.2</span> Табличные форматы</h2>
<ul>
<li>Файлы Excel — <code>.xls</code>, <code>.xlsx</code></li>
</ul>
<p>Для их чтения понадобится пакет <code>readxl</code>, в котором есть функции</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>readxl<span class="sc">::</span><span class="fu">read_xls</span>()</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>readxl<span class="sc">::</span><span class="fu">read_xlsx</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="форматы-файлов-данных-c-особой-разметкой" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="форматы-файлов-данных-c-особой-разметкой"><span class="header-section-number">2.3</span> Форматы файлов данных c особой разметкой</h2>
<p>Встречаются редко и обычно связаны с данными, которые достаются из интернета (парсинг страниц или выгрзуки JavaScript).</p>
<section id="json" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="json"><span class="header-section-number">2.3.1</span> JSON</h3>
<p>Выглядят так:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"first_name"</span><span class="fu">:</span> <span class="st">"John"</span><span class="fu">,</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"last_name"</span><span class="fu">:</span> <span class="st">"Smith"</span><span class="fu">,</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"is_alive"</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"age"</span><span class="fu">:</span> <span class="dv">27</span><span class="fu">,</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"address"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"street_address"</span><span class="fu">:</span> <span class="st">"21 2nd Street"</span><span class="fu">,</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"city"</span><span class="fu">:</span> <span class="st">"New York"</span><span class="fu">,</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"state"</span><span class="fu">:</span> <span class="st">"NY"</span><span class="fu">,</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"postal_code"</span><span class="fu">:</span> <span class="st">"10021-3100"</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"phone_numbers"</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"home"</span><span class="fu">,</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"number"</span><span class="fu">:</span> <span class="st">"212 555-1234"</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"office"</span><span class="fu">,</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"number"</span><span class="fu">:</span> <span class="st">"646 555-4567"</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"children"</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Catherine"</span><span class="ot">,</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Thomas"</span><span class="ot">,</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Trevor"</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"spouse"</span><span class="fu">:</span> <span class="kw">null</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Для работы с ними пригодится пакет <code>jsonlite</code>.</p>
</section>
<section id="xml" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="xml"><span class="header-section-number">2.3.2</span> XML</h3>
<p>Выглядят так:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">"1.0"</span><span class="fu">?&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">catalog</span>&gt;</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>   &lt;<span class="kw">book</span><span class="ot"> id=</span><span class="st">"bk101"</span>&gt;</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">author</span>&gt;Gambardella, Matthew&lt;/<span class="kw">author</span>&gt;</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">title</span>&gt;XML Developer's Guide&lt;/<span class="kw">title</span>&gt;</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">genre</span>&gt;Computer&lt;/<span class="kw">genre</span>&gt;</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">price</span>&gt;44.95&lt;/<span class="kw">price</span>&gt;</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">publish_date</span>&gt;2000-10-01&lt;/<span class="kw">publish_date</span>&gt;</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">description</span>&gt;An in-depth look at creating applications </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>      with XML.&lt;/<span class="kw">description</span>&gt;</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>   &lt;/<span class="kw">book</span>&gt;</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>   &lt;<span class="kw">book</span><span class="ot"> id=</span><span class="st">"bk102"</span>&gt;</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">author</span>&gt;Ralls, Kim&lt;/<span class="kw">author</span>&gt;</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">title</span>&gt;Midnight Rain&lt;/<span class="kw">title</span>&gt;</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">genre</span>&gt;Fantasy&lt;/<span class="kw">genre</span>&gt;</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">price</span>&gt;5.95&lt;/<span class="kw">price</span>&gt;</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">publish_date</span>&gt;2000-12-16&lt;/<span class="kw">publish_date</span>&gt;</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">description</span>&gt;A former architect battles corporate zombies, </span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>      an evil sorceress, and her own childhood to become queen </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>      of the world.&lt;/<span class="kw">description</span>&gt;</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>   &lt;/<span class="kw">book</span>&gt;</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>   &lt;<span class="kw">book</span><span class="ot"> id=</span><span class="st">"bk103"</span>&gt;</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">author</span>&gt;Corets, Eva&lt;/<span class="kw">author</span>&gt;</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">title</span>&gt;Maeve Ascendant&lt;/<span class="kw">title</span>&gt;</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">genre</span>&gt;Fantasy&lt;/<span class="kw">genre</span>&gt;</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">price</span>&gt;5.95&lt;/<span class="kw">price</span>&gt;</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">publish_date</span>&gt;2000-11-17&lt;/<span class="kw">publish_date</span>&gt;</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">description</span>&gt;After the collapse of a nanotechnology </span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>      society in England, the young survivors lay the </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>      foundation for a new society.&lt;/<span class="kw">description</span>&gt;</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>   &lt;/<span class="kw">book</span>&gt;</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">catalog</span>&gt;</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Для работы с ними пригодится пакет <code>XML</code>.</p>
</section>
</section>
<section id="организация-рабочего-пространства" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="организация-рабочего-пространства"><span class="header-section-number">2.4</span> Организация рабочего пространства</h2>
<p><strong>Рабочая директория</strong> — папка, в которую по умолчанию смотрит R, когда начинает искать файлы.</p>
<p>Чтобы узнать рабочую директорию, воспользуйтесь функцией</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Чтобы установить какую-либо папку в качестве рабочей директории, используйте</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/home/nglgrdt/R"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="путь-к-файлу" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="путь-к-файлу"><span class="header-section-number">2.5</span> Путь к файлу</h2>
<p>Бывает двух видов:</p>
<ul>
<li>абсолютный — <code>/home/nglgrdt/R/wlm2023/pr1-course.R</code></li>
<li>относительный — <code>wlm2023/pr1-course.R</code></li>
</ul>
<p>Относительный путь вычисляется относительно текущей рабочей директории.</p>
<p>Полезная вещь: <code>..</code> — подняться на один уровень в иерархии папок.</p>
</section>
<section id="projects" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="projects"><span class="header-section-number">2.6</span> Projects</h2>
<ul>
<li>RStudio предоставляет возможность работать в проектах</li>
<li>Это существенно упрощает организацию файлов, относящихся к одному исследованию</li>
<li>Внутри проекта можно создавать необходимые папки (для данных, скриптов, результатов анализа, визуализаций и др.)</li>
<li>При запуске проекта автоматически устанавливается рабочая директория</li>
<li>Удобно использовать относительные пути к файлам</li>
<li>Чтобы код воспроизводился на другом компьютере, достаточно заархивировать весь проект и отправить коллеге</li>
</ul>
<section id="l2-create-project" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="l2-create-project"><span class="header-section-number">2.6.1</span> Как создать проект?</h3>
<ol type="1">
<li>В правом верхнем углу нажмите на <code>Project: (None)</code> и выберите <code>New Project...</code>.</li>
</ol>
<center>
<figure class="figure">
<img src="pics/rproject-1.png" class="figure-img">
<figcaption>
Создание проекта. Шаг 1
</figcaption>
</figure>
</center>
<ol start="2" type="1">
<li>В открывшемся окне выберите <code>New Directory</code>. Это опция создаст новую папку для проекта.</li>
</ol>
<center>
<figure class="figure">
<img src="pics/rproject-2.png" class="figure-img">
<figcaption>
Создание проекта. Шаг 2
</figcaption>
</figure>
</center>
<ol start="3" type="1">
<li>Далее выберите <code>New Project</code>.</li>
</ol>
<center>
<figure class="figure">
<img src="pics/rproject-3.png" class="figure-img">
<figcaption>
Создание проекта. Шаг 3
</figcaption>
</figure>
</center>
<ol start="4" type="1">
<li>В поле <code>Directory name</code> укажите, как будет называться папка проекта. В поле <code>Create project as subdirectory of:</code> можно выбрать, внутри какой папки будет создана папка проекта. Нажмите <code>Create Project</code>.</li>
</ol>
<center>
<figure class="figure">
<img src="pics/rproject-4.png" class="figure-img">
<figcaption>
Создание проекта. Шаг 4
</figcaption>
</figure>
</center>
<ol start="5" type="1">
<li>Проект создан и открыт. Теперь в нем можно работать. Чтобы узнать, в каком проекте вы сейчас находитесь, посмотрите в правый верхний угол.</li>
</ol>
<center>
<figure class="figure">
<img src="pics/rproject-5.png" class="figure-img">
<figcaption>
Создание проекта. Шаг 5
</figcaption>
</figure>
</center>
</section>
</section>
<section id="кодировка" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="кодировка"><span class="header-section-number">2.7</span> Кодировка</h2>
<ul>
<li><p>Компьютер умеет хранить только числа, а скрипт — это текст</p></li>
<li><p>Данные также часто содержат текст</p></li>
<li><p>Договорились, что буквенные символы будут храниться на железе компьютера в виде чисел, и составили таблицы соответствий между числами и буквами</p></li>
<li><p>Такие таблицы были названы <strong>кодировками</strong></p></li>
<li><p>Кодировок много, так как они создавались для разных алфавитов и задач</p></li>
<li><p>Стандартной считается <code>UTF-8</code></p></li>
<li><p>При работе с нестандартными символами (например, диакритические знаки или фонетические символы) пригодится <code>UTF-16</code></p></li>
</ul>
</section>
<section id="первичное-исследование-данных" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="первичное-исследование-данных"><span class="header-section-number">2.8</span> Первичное исследование данных</h2>
<p>Прочитаем данные. В данном случае использован относительный путь.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>lec2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/lecture2.csv"</span>, <span class="at">encoding =</span> <span class="st">"UTF-8"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Выведем первые 6 строк датасета:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lec2)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id var1 var2  var3  var4 var5
1  1  Abc    5  TRUE cond1 12.8
2  2  Def   16 FALSE cond1 14.2
3  3  Ghi   94 FALSE cond2 32.5
4  4  Jkl   28 FALSE cond2  9.4
5  5  Mno   11  TRUE cond3  6.3
6  6  Pqr  100  TRUE cond3 11.7</code></pre>
</div>
</div>
<p>Выведем последние 3 строки датасета:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(lec2, <span class="at">n =</span> <span class="dv">3</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id var1 var2  var3  var4 var5
5  5  Mno   11  TRUE cond3  6.3
6  6  Pqr  100  TRUE cond3 11.7
7  7  Stu   96 FALSE cond1 95.5</code></pre>
</div>
</div>
<p>Посмотрим на структуру датасета:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(lec2)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   7 obs. of  6 variables:
 $ id  : int  1 2 3 4 5 6 7
 $ var1: chr  "Abc" "Def" "Ghi" "Jkl" ...
 $ var2: int  5 16 94 28 11 100 96
 $ var3: logi  TRUE FALSE FALSE FALSE TRUE TRUE ...
 $ var4: chr  "cond1" "cond1" "cond2" "cond2" ...
 $ var5: num  12.8 14.2 32.5 9.4 6.3 11.7 95.5</code></pre>
</div>
</div>
<p>Посмотрим описательные статистики по переменным:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lec2)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       id          var1                var2          var3        
 Min.   :1.0   Length:7           Min.   :  5.0   Mode :logical  
 1st Qu.:2.5   Class :character   1st Qu.: 13.5   FALSE:4        
 Median :4.0   Mode  :character   Median : 28.0   TRUE :3        
 Mean   :4.0                      Mean   : 50.0                  
 3rd Qu.:5.5                      3rd Qu.: 95.0                  
 Max.   :7.0                      Max.   :100.0                  
     var4                var5      
 Length:7           Min.   : 6.30  
 Class :character   1st Qu.:10.55  
 Mode  :character   Median :12.80  
                    Mean   :26.06  
                    3rd Qu.:23.35  
                    Max.   :95.50  </code></pre>
</div>
</div>
<p>Сделаем частотную таблицу по категориальной переменной:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(lec2<span class="sc">$</span>var4)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
cond1 cond2 cond3 
    3     2     2 </code></pre>
</div>
</div>
<p>Посмотрим уникальные значений по переменной-индентификатору:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(lec2<span class="sc">$</span>id)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6 7</code></pre>
</div>
</div>
<p>Отсортируем количественную переменную по возрастанию:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(lec2<span class="sc">$</span>var5)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  6.3  9.4 11.7 12.8 14.2 32.5 95.5</code></pre>
</div>
</div>
<p>Проверим, есть ли пропущенные значения — выполним функцию <code>is.na()</code> на каждом столце датасета:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(lec2, <span class="dv">2</span>, is.na)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        id  var1  var2  var3  var4  var5
[1,] FALSE FALSE FALSE FALSE FALSE FALSE
[2,] FALSE FALSE FALSE FALSE FALSE FALSE
[3,] FALSE FALSE FALSE FALSE FALSE FALSE
[4,] FALSE FALSE FALSE FALSE FALSE FALSE
[5,] FALSE FALSE FALSE FALSE FALSE FALSE
[6,] FALSE FALSE FALSE FALSE FALSE FALSE
[7,] FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
</div>
<p>Упрощенным вариантом функции <code>apply()</code> является <code>sapply()</code> — она сразу запускает какую-либо функцию по столбцам датасета. В данном случае использована анонимная функция, которая посчитает количество пропущенных значений в каждом столбце.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(lec2, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x)))</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id var1 var2 var3 var4 var5 
   0    0    0    0    0    0 </code></pre>
</div>
</div>
</section>
<section id="зачем-нам-предобрабатывать-данные" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="зачем-нам-предобрабатывать-данные"><span class="header-section-number">2.9</span> Зачем нам предобрабатывать данные?</h2>
<ul>
<li>Данные разнообразны в зависимости от того
<ul>
<li>какая у нас исследовательская область</li>
<li>какой у нас исследуемый феномен</li>
<li>с каким оборудованием мы работаем</li>
<li>…</li>
</ul></li>
<li>Для того, чтобы мы могли работать с любыми данными, независимо от того, откуда они к нам пришли, нам нужно привести их к некому стандартному виду</li>
</ul>
</section>
<section id="концепция-tidy-data" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="концепция-tidy-data"><span class="header-section-number">2.10</span> Концепция Tidy Data</h2>
<ul>
<li>В каждом столбце содержится одна переменная</li>
<li>В каждой строке содержится одно наблюдение</li>
<li>В каждой ячейке содержится одно значение</li>
</ul>
<center>
<figure class="figure">
<img src="pics/tidy.jpg" class="figure-img">
<figcaption>
Принципы концепции Tidy Data
</figcaption>
</figure>
</center>
</section>
<section id="семейство-пакетов-tidyverse" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="семейство-пакетов-tidyverse"><span class="header-section-number">2.11</span> Семейство пакетов <code>tidyverse</code></h2>
<p>Установить пакет:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Подключить пакет к текущей сессии R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section>
<section id="импорт-данных.-tibble" class="level2" data-number="2.12">
<h2 data-number="2.12" class="anchored" data-anchor-id="импорт-данных.-tibble"><span class="header-section-number">2.12</span> Импорт данных. <code>tibble</code></h2>
<p>Функции импорта данных из <code>tidyverse</code> атоматически читают данные в <code>tibble</code>. С точки зрения пользователя <code>tibble</code> — это тот же самый датафрейм. Есть некоторые отличия в выводе в консоль, с которыми мы ближе познакомимся на практике.</p>
<p>Для чтения CSV-файлов есть следующие функции:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>()</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv2</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Для чтения данных с другими разделителями есть функция</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_delim</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Загрузим данные:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>ds <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/lecture2.csv"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 7 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): var1, var4
dbl (3): id, var2, var5
lgl (1): var3

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>ds</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8
2     2 Def      16 FALSE cond1  14.2
3     3 Ghi      94 FALSE cond2  32.5
4     4 Jkl      28 FALSE cond2   9.4
5     5 Mno      11 TRUE  cond3   6.3
6     6 Pqr     100 TRUE  cond3  11.7
7     7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
</div>
</section>
<section id="pipe" class="level2" data-number="2.13">
<h2 data-number="2.13" class="anchored" data-anchor-id="pipe"><span class="header-section-number">2.13</span> Pipe</h2>
<p>Прежде чем начать разговор о предобработке, познакомимся с одним очень полезным оператором из <code>tidyverse</code> — это пайп.</p>
<p>Существует два вида пайпа:</p>
<ul>
<li>маггритеровский <code>%&gt;%</code>
<ul>
<li>требуется подключение пакета <code>tidyverse</code></li>
</ul></li>
<li>нативный <code>|&gt;</code>
<ul>
<li>находится в базовом R, включается через настройки
<ul>
<li><code>Tools &gt; Global Options &gt; Code &gt; Use native pipe operator</code></li>
</ul></li>
</ul></li>
</ul>
<p>С точки зрения пользователя практически не отличаются друг от друга. И тот, и другой вводится комбинацией <code>Ctrl + Shift + M</code>. Выбрать, какой именно будет использоваться, можно в настройках (<code>Tools &gt; Global Options &gt; Code &gt; Use native pipe operator</code>.)</p>
<center>
<figure class="figure">
<img src="pics/native-pipe.png" class="figure-img">
<figcaption>
Выбор используемого пайпа в настройках
</figcaption>
</figure>
</center>
<p>Пайп передает то, что слева от него, в функцию, которая справа от него, в качестве первого аргумента.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span> <span class="sc">%&gt;%</span> <span class="fu">sum</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(pi, <span class="dv">2</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>pi <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.14</code></pre>
</div>
</div>
<p>Позволяет выстраивать цепочки последовательных преобразований:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">abs</span>(<span class="fu">log</span>(<span class="fu">abs</span>(<span class="fu">round</span>(<span class="fu">sin</span>(<span class="dv">1</span> <span class="sc">/</span> <span class="fu">cos</span>(<span class="dv">3</span>)), <span class="dv">2</span>)), <span class="dv">3</span>)))</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3846181</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">%&gt;%</span> <span class="fu">cos</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">/</span><span class="st">`</span>(<span class="dv">1</span>, .) <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sin</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abs</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abs</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sqrt</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3846181</code></pre>
</div>
</div>
</section>
<section id="переименование-переменных" class="level2" data-number="2.14">
<h2 data-number="2.14" class="anchored" data-anchor-id="переименование-переменных"><span class="header-section-number">2.14</span> Переименование переменных</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>ds</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8
2     2 Def      16 FALSE cond1  14.2
3     3 Ghi      94 FALSE cond2  32.5
4     4 Jkl      28 FALSE cond2   9.4
5     5 Mno      11 TRUE  cond3   6.3
6     6 Pqr     100 TRUE  cond3  11.7
7     7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">city =</span> var1,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> var2)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id city    age var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8
2     2 Def      16 FALSE cond1  14.2
3     3 Ghi      94 FALSE cond2  32.5
4     4 Jkl      28 FALSE cond2   9.4
5     5 Mno      11 TRUE  cond3   6.3
6     6 Pqr     100 TRUE  cond3  11.7
7     7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(<span class="fu">vars</span>(id, city, age, student, condition, score))</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
  `~id` `~city` `~age` `~student` `~condition` `~score`
  &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;lgl&gt;      &lt;chr&gt;           &lt;dbl&gt;
1     1 Abc          5 TRUE       cond1            12.8
2     2 Def         16 FALSE      cond1            14.2
3     3 Ghi         94 FALSE      cond2            32.5
4     4 Jkl         28 FALSE      cond2             9.4
5     5 Mno         11 TRUE       cond3             6.3
6     6 Pqr        100 TRUE       cond3            11.7
7     7 Stu         96 FALSE      cond1            95.5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(<span class="fu">vars</span>(id, city, age, student, condition, score)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_all</span>(str_remove, <span class="st">"~"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id city    age student condition score
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt;   &lt;chr&gt;     &lt;dbl&gt;
1     1 Abc       5 TRUE    cond1      12.8
2     2 Def      16 FALSE   cond1      14.2
3     3 Ghi      94 FALSE   cond2      32.5
4     4 Jkl      28 FALSE   cond2       9.4
5     5 Mno      11 TRUE    cond3       6.3
6     6 Pqr     100 TRUE    cond3      11.7
7     7 Stu      96 FALSE   cond1      95.5</code></pre>
</div>
</div>
</section>
<section id="фильтрация-данных.-строки" class="level2" data-number="2.15">
<h2 data-number="2.15" class="anchored" data-anchor-id="фильтрация-данных.-строки"><span class="header-section-number">2.15</span> Фильтрация данных. Строки</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>ds</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8
2     2 Def      16 FALSE cond1  14.2
3     3 Ghi      94 FALSE cond2  32.5
4     4 Jkl      28 FALSE cond2   9.4
5     5 Mno      11 TRUE  cond3   6.3
6     6 Pqr     100 TRUE  cond3  11.7
7     7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(var5 <span class="sc">&gt;</span> <span class="dv">10</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8
2     2 Def      16 FALSE cond1  14.2
3     3 Ghi      94 FALSE cond2  32.5
4     6 Pqr     100 TRUE  cond3  11.7
5     7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(var3)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8
2     5 Mno      11 TRUE  cond3   6.3
3     6 Pqr     100 TRUE  cond3  11.7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     3 Ghi      94 FALSE cond2  32.5
2     4 Jkl      28 FALSE cond2   9.4
3     5 Mno      11 TRUE  cond3   6.3</code></pre>
</div>
</div>
</section>
<section id="фильтрация-данных.-столбцы" class="level2" data-number="2.16">
<h2 data-number="2.16" class="anchored" data-anchor-id="фильтрация-данных.-столбцы"><span class="header-section-number">2.16</span> Фильтрация данных. Столбцы</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>ds</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8
2     2 Def      16 FALSE cond1  14.2
3     3 Ghi      94 FALSE cond2  32.5
4     4 Jkl      28 FALSE cond2   9.4
5     5 Mno      11 TRUE  cond3   6.3
6     6 Pqr     100 TRUE  cond3  11.7
7     7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, var1, var3, var4)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
     id var1  var3  var4 
  &lt;dbl&gt; &lt;chr&gt; &lt;lgl&gt; &lt;chr&gt;
1     1 Abc   TRUE  cond1
2     2 Def   FALSE cond1
3     3 Ghi   FALSE cond2
4     4 Jkl   FALSE cond2
5     5 Mno   TRUE  cond3
6     6 Pqr   TRUE  cond3
7     7 Stu   FALSE cond1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"var"</span>))</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 5
  var1   var2 var3  var4   var5
  &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1 Abc       5 TRUE  cond1  12.8
2 Def      16 FALSE cond1  14.2
3 Ghi      94 FALSE cond2  32.5
4 Jkl      28 FALSE cond2   9.4
5 Mno      11 TRUE  cond3   6.3
6 Pqr     100 TRUE  cond3  11.7
7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
</div>
</section>
<section id="сортировка-данных" class="level2" data-number="2.17">
<h2 data-number="2.17" class="anchored" data-anchor-id="сортировка-данных"><span class="header-section-number">2.17</span> Сортировка данных</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>ds</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8
2     2 Def      16 FALSE cond1  14.2
3     3 Ghi      94 FALSE cond2  32.5
4     4 Jkl      28 FALSE cond2   9.4
5     5 Mno      11 TRUE  cond3   6.3
6     6 Pqr     100 TRUE  cond3  11.7
7     7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(var5)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     5 Mno      11 TRUE  cond3   6.3
2     4 Jkl      28 FALSE cond2   9.4
3     6 Pqr     100 TRUE  cond3  11.7
4     1 Abc       5 TRUE  cond1  12.8
5     2 Def      16 FALSE cond1  14.2
6     3 Ghi      94 FALSE cond2  32.5
7     7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(var5))</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     7 Stu      96 FALSE cond1  95.5
2     3 Ghi      94 FALSE cond2  32.5
3     2 Def      16 FALSE cond1  14.2
4     1 Abc       5 TRUE  cond1  12.8
5     6 Pqr     100 TRUE  cond3  11.7
6     4 Jkl      28 FALSE cond2   9.4
7     5 Mno      11 TRUE  cond3   6.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(var4, var3)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  var4  var3 
  &lt;chr&gt; &lt;lgl&gt;
1 cond1 TRUE 
2 cond1 FALSE
3 cond2 FALSE
4 cond3 TRUE </code></pre>
</div>
</div>
</section>
<section id="создание-и-изменение-переменных" class="level2" data-number="2.18">
<h2 data-number="2.18" class="anchored" data-anchor-id="создание-и-изменение-переменных"><span class="header-section-number">2.18</span> Создание и изменение переменных</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>ds</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8
2     2 Def      16 FALSE cond1  14.2
3     3 Ghi      94 FALSE cond2  32.5
4     4 Jkl      28 FALSE cond2   9.4
5     5 Mno      11 TRUE  cond3   6.3
6     6 Pqr     100 TRUE  cond3  11.7
7     7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">banch =</span> <span class="dv">1</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 7
     id var1   var2 var3  var4   var5 banch
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8     1
2     2 Def      16 FALSE cond1  14.2     1
3     3 Ghi      94 FALSE cond2  32.5     1
4     4 Jkl      28 FALSE cond2   9.4     1
5     5 Mno      11 TRUE  cond3   6.3     1
6     6 Pqr     100 TRUE  cond3  11.7     1
7     7 Stu      96 FALSE cond1  95.5     1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">banch =</span> <span class="dv">1</span>,</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">var5_cat =</span> <span class="fu">ifelse</span>(var5 <span class="sc">&gt;</span> <span class="fu">mean</span>(var5), <span class="st">"high"</span>, <span class="st">"low"</span>),</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">var4 =</span> <span class="fu">recode</span>(var4,</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"cond1"</span> <span class="ot">=</span> <span class="st">"easy"</span>,</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"cond2"</span> <span class="ot">=</span> <span class="st">"medium"</span>,</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"cond3"</span> <span class="ot">=</span> <span class="st">"hard"</span>))</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 8
     id var1   var2 var3  var4    var5 banch var5_cat
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   
1     1 Abc       5 TRUE  easy    12.8     1 low     
2     2 Def      16 FALSE easy    14.2     1 low     
3     3 Ghi      94 FALSE medium  32.5     1 high    
4     4 Jkl      28 FALSE medium   9.4     1 low     
5     5 Mno      11 TRUE  hard     6.3     1 low     
6     6 Pqr     100 TRUE  hard    11.7     1 low     
7     7 Stu      96 FALSE easy    95.5     1 high    </code></pre>
</div>
</div>
</section>
<section id="группировка-и-агрегация-данных" class="level2" data-number="2.19">
<h2 data-number="2.19" class="anchored" data-anchor-id="группировка-и-агрегация-данных"><span class="header-section-number">2.19</span> Группировка и агрегация данных</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>ds</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
     id var1   var2 var3  var4   var5
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 TRUE  cond1  12.8
2     2 Def      16 FALSE cond1  14.2
3     3 Ghi      94 FALSE cond2  32.5
4     4 Jkl      28 FALSE cond2   9.4
5     5 Mno      11 TRUE  cond3   6.3
6     6 Pqr     100 TRUE  cond3  11.7
7     7 Stu      96 FALSE cond1  95.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">v5_mean =</span> <span class="fu">mean</span>(var5),</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">v2_median =</span> <span class="fu">median</span>(var2))</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  v5_mean v2_median
    &lt;dbl&gt;     &lt;dbl&gt;
1    26.1        28</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(var4) <span class="sc">%&gt;%</span> </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">v5_mean =</span> <span class="fu">mean</span>(var5),</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">v2_median =</span> <span class="fu">median</span>(var2))</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  var4      n v5_mean v2_median
  &lt;chr&gt; &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;
1 cond1     3    40.8      16  
2 cond2     2    21.0      61  
3 cond3     2     9        55.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>ds <span class="sc">%&gt;%</span> </span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">v5_mean =</span> <span class="fu">mean</span>(var5),</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">v2_median =</span> <span class="fu">median</span>(var2),</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">.by =</span> var4)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  var4      n v5_mean v2_median
  &lt;chr&gt; &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;
1 cond1     3    40.8      16  
2 cond2     2    21.0      61  
3 cond3     2     9        55.5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ungroup</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="объединение-датасетов.-строки-и-столбцы" class="level2" data-number="2.20">
<h2 data-number="2.20" class="anchored" data-anchor-id="объединение-датасетов.-строки-и-столбцы"><span class="header-section-number">2.20</span> Объединение датасетов. Строки и столбцы</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     2 Def      16
3     3 Ghi      94
4     4 Jkl      28</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var3  var4 
  &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;
1     1 TRUE  cond1
2     2 FALSE cond1
3     3 FALSE cond2
4     4 FALSE cond2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>c</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     5 Mno      11
2     6 Pqr     100
3     7 Stu      96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">%&gt;%</span> </span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(b)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `id` -&gt; `id...1`
• `id` -&gt; `id...4`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 6
  id...1 var1   var2 id...4 var3  var4 
   &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;
1      1 Abc       5      1 TRUE  cond1
2      2 Def      16      2 FALSE cond1
3      3 Ghi      94      3 FALSE cond2
4      4 Jkl      28      4 FALSE cond2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">%&gt;%</span> </span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(c)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     2 Def      16
3     3 Ghi      94
4     4 Jkl      28
5     5 Mno      11
6     6 Pqr     100
7     7 Stu      96</code></pre>
</div>
</div>
</section>
<section id="объединение-датасетов.-ключ" class="level2" data-number="2.21">
<h2 data-number="2.21" class="anchored" data-anchor-id="объединение-датасетов.-ключ"><span class="header-section-number">2.21</span> Объединение датасетов. Ключ</h2>
<center>
<figure class="figure">
<img src="pics/xy.png" class="figure-img">
<figcaption>
Схема датасетов
</figcaption>
</figure>
</center>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     2 Def      16
3     5 Mno      11
4     7 Stu      96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     2 cond1  14.2
3     3 cond2  32.5
4     4 cond2   9.4</code></pre>
</div>
</div>
</section>
<section id="inner_join" class="level2" data-number="2.22">
<h2 data-number="2.22" class="anchored" data-anchor-id="inner_join"><span class="header-section-number">2.22</span> <code>inner_join()</code></h2>
<center>
<figure class="figure">
<img src="pics/inner-join.png" class="figure-img">
<figcaption>
Схема inner_join()
</figcaption>
</figure>
</center>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     2 Def      16
3     5 Mno      11
4     7 Stu      96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     2 cond1  14.2
3     3 cond2  32.5
4     4 cond2   9.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(y)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
     id var1   var2 var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 cond1  12.8
2     2 Def      16 cond1  14.2</code></pre>
</div>
</div>
</section>
<section id="left_join" class="level2" data-number="2.23">
<h2 data-number="2.23" class="anchored" data-anchor-id="left_join"><span class="header-section-number">2.23</span> <code>left_join()</code></h2>
<center>
<figure class="figure">
<img src="pics/left-join.png" class="figure-img">
<figcaption>
Схема left_join()
</figcaption>
</figure>
</center>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     2 Def      16
3     5 Mno      11
4     7 Stu      96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     2 cond1  14.2
3     3 cond2  32.5
4     4 cond2   9.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(y)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 5
     id var1   var2 var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 cond1  12.8
2     2 Def      16 cond1  14.2
3     5 Mno      11 &lt;NA&gt;   NA  
4     7 Stu      96 &lt;NA&gt;   NA  </code></pre>
</div>
</div>
</section>
<section id="right_join" class="level2" data-number="2.24">
<h2 data-number="2.24" class="anchored" data-anchor-id="right_join"><span class="header-section-number">2.24</span> <code>right_join()</code></h2>
<center>
<figure class="figure">
<img src="pics/right-join.png" class="figure-img">
<figcaption>
Схема right_join()
</figcaption>
</figure>
</center>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     2 Def      16
3     5 Mno      11
4     7 Stu      96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     2 cond1  14.2
3     3 cond2  32.5
4     4 cond2   9.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">right_join</span>(y)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 5
     id var1   var2 var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 cond1  12.8
2     2 Def      16 cond1  14.2
3     3 &lt;NA&gt;     NA cond2  32.5
4     4 &lt;NA&gt;     NA cond2   9.4</code></pre>
</div>
</div>
</section>
<section id="full_join" class="level2" data-number="2.25">
<h2 data-number="2.25" class="anchored" data-anchor-id="full_join"><span class="header-section-number">2.25</span> <code>full_join()</code></h2>
<center>
<figure class="figure">
<img src="pics/full-join.png" class="figure-img">
<figcaption>
Схема full_join()
</figcaption>
</figure>
</center>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     2 Def      16
3     5 Mno      11
4     7 Stu      96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     2 cond1  14.2
3     3 cond2  32.5
4     4 cond2   9.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">full_join</span>(y)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
     id var1   var2 var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 cond1  12.8
2     2 Def      16 cond1  14.2
3     5 Mno      11 &lt;NA&gt;   NA  
4     7 Stu      96 &lt;NA&gt;   NA  
5     3 &lt;NA&gt;     NA cond2  32.5
6     4 &lt;NA&gt;     NA cond2   9.4</code></pre>
</div>
</div>
</section>
<section id="semi_join" class="level2" data-number="2.26">
<h2 data-number="2.26" class="anchored" data-anchor-id="semi_join"><span class="header-section-number">2.26</span> <code>semi_join()</code></h2>
<center>
<figure class="figure">
<img src="pics/semi-join.png" class="figure-img">
<figcaption>
Схема semi_join()
</figcaption>
</figure>
</center>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     2 Def      16
3     5 Mno      11
4     7 Stu      96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     2 cond1  14.2
3     3 cond2  32.5
4     4 cond2   9.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">semi_join</span>(y)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     2 Def      16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>y <span class="sc">%&gt;%</span> <span class="fu">semi_join</span>(x)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
     id var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     2 cond1  14.2</code></pre>
</div>
</div>
</section>
<section id="anti_join" class="level2" data-number="2.27">
<h2 data-number="2.27" class="anchored" data-anchor-id="anti_join"><span class="header-section-number">2.27</span> <code>anti_join()</code></h2>
<center>
<figure class="figure">
<img src="pics/anti-join.png" class="figure-img">
<figcaption>
Схема anti_join()
</figcaption>
</figure>
</center>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     2 Def      16
3     5 Mno      11
4     7 Stu      96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     2 cond1  14.2
3     3 cond2  32.5
4     4 cond2   9.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(y)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     5 Mno      11
2     7 Stu      96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>y <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(x)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
     id var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     3 cond2  32.5
2     4 cond2   9.4</code></pre>
</div>
</div>
</section>
<section id="дублирование-ключа" class="level2" data-number="2.28">
<h2 data-number="2.28" class="anchored" data-anchor-id="дублирование-ключа"><span class="header-section-number">2.28</span> Дублирование ключа</h2>
<center>
<figure class="figure">
<img src="pics/duplicate-keys.png" class="figure-img">
<figcaption>
Схема работы .._join() при наличии дублей в колонке ключа
</figcaption>
</figure>
</center>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
     id var1   var2
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5
2     1 Abc       7
3     2 Def      16
4     5 Mno      11
5     7 Stu      96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
     id var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     2 cond1  14.2
3     2 cond2   2  
4     3 cond2  32.5
5     4 cond2   9.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(y)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in inner_join(., y): Detected an unexpected many-to-many relationship between `x` and `y`.
ℹ Row 3 of `x` matches multiple rows in `y`.
ℹ Row 1 of `y` matches multiple rows in `x`.
ℹ If a many-to-many relationship is expected, set `relationship =
  "many-to-many"` to silence this warning.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 5
     id var1   var2 var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 cond1  12.8
2     1 Abc       7 cond1  12.8
3     2 Def      16 cond1  14.2
4     2 Def      16 cond2   2  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(y)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in left_join(., y): Detected an unexpected many-to-many relationship between `x` and `y`.
ℹ Row 3 of `x` matches multiple rows in `y`.
ℹ Row 1 of `y` matches multiple rows in `x`.
ℹ If a many-to-many relationship is expected, set `relationship =
  "many-to-many"` to silence this warning.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
     id var1   var2 var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 cond1  12.8
2     1 Abc       7 cond1  12.8
3     2 Def      16 cond1  14.2
4     2 Def      16 cond2   2  
5     5 Mno      11 &lt;NA&gt;   NA  
6     7 Stu      96 &lt;NA&gt;   NA  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">right_join</span>(y)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in right_join(., y): Detected an unexpected many-to-many relationship between `x` and `y`.
ℹ Row 3 of `x` matches multiple rows in `y`.
ℹ Row 1 of `y` matches multiple rows in `x`.
ℹ If a many-to-many relationship is expected, set `relationship =
  "many-to-many"` to silence this warning.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
     id var1   var2 var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 cond1  12.8
2     1 Abc       7 cond1  12.8
3     2 Def      16 cond1  14.2
4     2 Def      16 cond2   2  
5     3 &lt;NA&gt;     NA cond2  32.5
6     4 &lt;NA&gt;     NA cond2   9.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">full_join</span>(y)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(id)`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in full_join(., y): Detected an unexpected many-to-many relationship between `x` and `y`.
ℹ Row 3 of `x` matches multiple rows in `y`.
ℹ Row 1 of `y` matches multiple rows in `x`.
ℹ If a many-to-many relationship is expected, set `relationship =
  "many-to-many"` to silence this warning.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 5
     id var1   var2 var3   var4
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Abc       5 cond1  12.8
2     1 Abc       7 cond1  12.8
3     2 Def      16 cond1  14.2
4     2 Def      16 cond2   2  
5     5 Mno      11 &lt;NA&gt;   NA  
6     7 Stu      96 &lt;NA&gt;   NA  
7     3 &lt;NA&gt;     NA cond2  32.5
8     4 &lt;NA&gt;     NA cond2   9.4</code></pre>
</div>
</div>
</section>
<section id="способы-объединения-по-ключу-на-диаграммах-венна" class="level2" data-number="2.29">
<h2 data-number="2.29" class="anchored" data-anchor-id="способы-объединения-по-ключу-на-диаграммах-венна"><span class="header-section-number">2.29</span> Способы объединения по ключу на диаграммах Венна</h2>
<center>
<figure class="figure">
<img src="pics/joins-venn.png" class="figure-img">
<figcaption>
Схема работы .._join() на диаграммах Венна
</figcaption>
</figure>
</center>
</section>
<section id="широкий-и-длинный-форматы-данных" class="level2" data-number="2.30">
<h2 data-number="2.30" class="anchored" data-anchor-id="широкий-и-длинный-форматы-данных"><span class="header-section-number">2.30</span> Широкий и длинный форматы данных</h2>
<center>
<figure class="figure">
<img src="pics/wide-long.png" class="figure-img">
<figcaption>
Представление одних и тех же данных в длинном и широком форматах
</figcaption>
</figure>
</center>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>long</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
     id var1   var2
  &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     2 cond1  14.2
3     1 cond2  32.5
4     2 cond2   9.4
5     1 cond3   6.3
6     2 cond3  11.7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>long <span class="sc">%&gt;%</span> </span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> var1,</span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> var2) <span class="ot">-&gt;</span> wide</span>
<span id="cb179-4"><a href="#cb179-4" aria-hidden="true" tabindex="-1"></a>wide</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
     id cond1 cond2 cond3
  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     1  12.8  32.5   6.3
2     2  14.2   9.4  11.7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>wide <span class="sc">%&gt;%</span> </span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>id) <span class="co"># names_to, values_to</span></span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
     id name  value
  &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 cond1  12.8
2     1 cond2  32.5
3     1 cond3   6.3
4     2 cond1  14.2
5     2 cond2   9.4
6     2 cond3  11.7</code></pre>
</div>
</div>
</section>
<section id="строки" class="level2" data-number="2.31">
<h2 data-number="2.31" class="anchored" data-anchor-id="строки"><span class="header-section-number">2.31</span> Строки</h2>
<p>Два специализированных пакета:</p>
<ul>
<li><code>stringr</code> (является частью <code>tidyverse</code>)</li>
<li><code>stringi</code> (устанавливается отдельно)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("stringi")</span></span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringi)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="как-создать-строку" class="level3" data-number="2.31.1">
<h3 data-number="2.31.1" class="anchored" data-anchor-id="как-создать-строку"><span class="header-section-number">2.31.1</span> Как создать строку?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="st">"сложившаяся структура организации влечет за собой процесс внедрения и модернизации новых предложений"</span></span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a>s1</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "сложившаяся структура организации влечет за собой процесс внедрения и модернизации новых предложений"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>s2 <span class="ot">&lt;-</span> <span class="st">'С другой стороны постоянный количественный "рост" и сфера нашей активности позволяет выполнять важные задания по разработке соответствующий условий активизации'</span></span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a>s2</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "С другой стороны постоянный количественный \"рост\" и сфера нашей активности позволяет выполнять важные задания по разработке соответствующий условий активизации"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>s3 <span class="ot">&lt;-</span> <span class="st">"С другой стороны постоянный количественный "</span>рост<span class="st">" и сфера нашей активности позволяет выполнять важные задания по разработке соответствующий условий активизации"</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a>s3</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in parse(text = input): &lt;text&gt;:1:52: unexpected symbol
1: s3 &lt;- "С другой стороны постоянный количественный "рост
                                                       ^</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>s4 <span class="ot">&lt;-</span> <span class="st">"С другой стороны постоянный количественный 'рост' и сфера нашей активности позволяет выполнять важные задания по разработке соответствующий условий активизации"</span></span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>s4</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "С другой стороны постоянный количественный 'рост' и сфера нашей активности позволяет выполнять важные задания по разработке соответствующий условий активизации"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a>s5 <span class="ot">&lt;-</span> <span class="st">"С другой стороны постоянный количественный «рост» и сфера нашей активности позволяет выполнять важные задания по разработке соответствующий условий активизации"</span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a>s5</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "С другой стороны постоянный количественный «рост» и сфера нашей активности позволяет выполнять важные задания по разработке соответствующий условий активизации"</code></pre>
</div>
</div>
</section>
</section>
<section id="генерация-случайных-строк" class="level2" data-number="2.32">
<h2 data-number="2.32" class="anchored" data-anchor-id="генерация-случайных-строк"><span class="header-section-number">2.32</span> Генерация случайных строк</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stri_rand_strings</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">length =</span> <span class="dv">5</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "eZ1eh" "eyznU" "YTRXy" "Uz5d0" "aTh8T" "B5DRC" "2yzFP" "FDTuK" "tW43M"
[10] "RMT92"</code></pre>
</div>
</div>
</section>
<section id="операции-над-строками" class="level2" data-number="2.33">
<h2 data-number="2.33" class="anchored" data-anchor-id="операции-над-строками"><span class="header-section-number">2.33</span> Операции над строками</h2>
<section id="конкатенация-строк" class="level3" data-number="2.33.1">
<h3 data-number="2.33.1" class="anchored" data-anchor-id="конкатенация-строк"><span class="header-section-number">2.33.1</span> Конкатенация строк</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">'first'</span>, <span class="st">'second'</span>, <span class="st">'third'</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "first second third"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">'first'</span>, <span class="st">'second'</span>, <span class="st">'third'</span>, <span class="at">sep =</span> <span class="st">"_"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "first_second_third"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">'first'</span>, <span class="st">'second'</span>, <span class="st">'third'</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "firstsecondthird"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">'first'</span>, <span class="st">'second'</span>, <span class="st">'third'</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "firstsecondthird"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">'first'</span>, <span class="st">'second'</span>, <span class="st">'third'</span>, <span class="at">sep =</span> <span class="st">"|"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "first|second|third"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stri_c</span>(<span class="st">'first'</span>, <span class="st">'second'</span>, <span class="st">'third'</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "firstsecondthird"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stri_c</span>(<span class="st">'first'</span>, <span class="st">'second'</span>, <span class="st">'third'</span>, <span class="at">sep =</span> <span class="st">" &amp; "</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "first &amp; second &amp; third"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a>ds_1</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 150 × 4
      id scale  item score
   &lt;int&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt;
 1     1 A         1     4
 2     1 A         2     1
 3     1 A         3     5
 4     1 A         4     1
 5     1 A         5     5
 6     1 B         1     1
 7     1 B         2     2
 8     1 B         3     5
 9     1 B         4     3
10     1 B         5     5
# ℹ 140 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a>ds_1 <span class="sc">%&gt;%</span> </span>
<span id="cb212-2"><a href="#cb212-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(scale_item, scale, item, <span class="at">sep =</span> <span class="st">"_"</span>) <span class="ot">-&gt;</span> ds_2</span>
<span id="cb212-3"><a href="#cb212-3" aria-hidden="true" tabindex="-1"></a>ds_2</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 150 × 3
      id scale_item score
   &lt;int&gt; &lt;chr&gt;      &lt;int&gt;
 1     1 A_1            4
 2     1 A_2            1
 3     1 A_3            5
 4     1 A_4            1
 5     1 A_5            5
 6     1 B_1            1
 7     1 B_2            2
 8     1 B_3            5
 9     1 B_4            3
10     1 B_5            5
# ℹ 140 more rows</code></pre>
</div>
</div>
</section>
<section id="разделение-строк" class="level3" data-number="2.33.2">
<h3 data-number="2.33.2" class="anchored" data-anchor-id="разделение-строк"><span class="header-section-number">2.33.2</span> Разделение строк</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_split</span>(<span class="st">"first second third"</span>, <span class="at">pattern =</span> <span class="st">" "</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "first"  "second" "third" </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a>ds_2 <span class="sc">%&gt;%</span> </span>
<span id="cb216-2"><a href="#cb216-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(scale_item, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"scale"</span>, <span class="st">"item"</span>))</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 150 × 4
      id scale item  score
   &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt;
 1     1 A     1         4
 2     1 A     2         1
 3     1 A     3         5
 4     1 A     4         1
 5     1 A     5         5
 6     1 B     1         1
 7     1 B     2         2
 8     1 B     3         5
 9     1 B     4         3
10     1 B     5         5
# ℹ 140 more rows</code></pre>
</div>
</div>
</section>
<section id="сортировка-строк" class="level3" data-number="2.33.3">
<h3 data-number="2.33.3" class="anchored" data-anchor-id="сортировка-строк"><span class="header-section-number">2.33.3</span> Сортировка строк</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a>unsorted_s</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Odl" "Snm" "Nqr" "Cka" "Jgf" "Ruu" "Vlo" "Koi" "Ejt" "Tmp" "Nvd" "Vin"
[13] "Ysv" "Zrk" "Eph" "Swx" "Yey" "Ytg" "Ixs" "Ccw" "Hfj" "Zab" "Gbz" "Jhe"
[25] "Iyc" "Szq"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(unsorted_s)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Ccw" "Cka" "Ejt" "Eph" "Gbz" "Hfj" "Ixs" "Iyc" "Jgf" "Jhe" "Koi" "Nqr"
[13] "Nvd" "Odl" "Ruu" "Snm" "Swx" "Szq" "Tmp" "Vin" "Vlo" "Yey" "Ysv" "Ytg"
[25] "Zab" "Zrk"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sort</span>(unsorted_s)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Ccw" "Cka" "Ejt" "Eph" "Gbz" "Hfj" "Ixs" "Iyc" "Jgf" "Jhe" "Koi" "Nqr"
[13] "Nvd" "Odl" "Ruu" "Snm" "Swx" "Szq" "Tmp" "Vin" "Vlo" "Yey" "Ysv" "Ytg"
[25] "Zab" "Zrk"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># по умолчанию</span></span>
<span id="cb224-2"><a href="#cb224-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sort</span>(<span class="fu">c</span>(<span class="st">"э"</span>, <span class="st">"а"</span>, <span class="st">"у"</span>, <span class="st">"i"</span>), <span class="at">locale =</span> <span class="st">'en'</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "i" "а" "у" "э"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="co"># для русского языка</span></span>
<span id="cb226-2"><a href="#cb226-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sort</span>(<span class="fu">c</span>(<span class="st">"э"</span>, <span class="st">"а"</span>, <span class="st">"у"</span>, <span class="st">"i"</span>), <span class="at">locale =</span> <span class="st">'ru'</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "а" "у" "э" "i"</code></pre>
</div>
</div>
</section>
<section id="изменение-строк" class="level3" data-number="2.33.4">
<h3 data-number="2.33.4" class="anchored" data-anchor-id="изменение-строк"><span class="header-section-number">2.33.4</span> Изменение строк</h3>
<section id="выделение-подстроки" class="level4" data-number="2.33.4.1">
<h4 data-number="2.33.4.1" class="anchored" data-anchor-id="выделение-подстроки"><span class="header-section-number">2.33.4.1</span> Выделение подстроки</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a>unsorted_s</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Odl" "Snm" "Nqr" "Cka" "Jgf" "Ruu" "Vlo" "Koi" "Ejt" "Tmp" "Nvd" "Vin"
[13] "Ysv" "Zrk" "Eph" "Swx" "Yey" "Ytg" "Ixs" "Ccw" "Hfj" "Zab" "Gbz" "Jhe"
[25] "Iyc" "Szq"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sub</span>(unsorted_s, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">2</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Od" "Sn" "Nq" "Ck" "Jg" "Ru" "Vl" "Ko" "Ej" "Tm" "Nv" "Vi" "Ys" "Zr" "Ep"
[16] "Sw" "Ye" "Yt" "Ix" "Cc" "Hf" "Za" "Gb" "Jh" "Iy" "Sz"</code></pre>
</div>
</div>
</section>
<section id="замена-подстроки" class="level4" data-number="2.33.4.2">
<h4 data-number="2.33.4.2" class="anchored" data-anchor-id="замена-подстроки"><span class="header-section-number">2.33.4.2</span> Замена подстроки</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a>unsorted_s</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Odl" "Snm" "Nqr" "Cka" "Jgf" "Ruu" "Vlo" "Koi" "Ejt" "Tmp" "Nvd" "Vin"
[13] "Ysv" "Zrk" "Eph" "Swx" "Yey" "Ytg" "Ixs" "Ccw" "Hfj" "Zab" "Gbz" "Jhe"
[25] "Iyc" "Szq"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace</span>(unsorted_s, <span class="at">pattern =</span> <span class="st">"O"</span>, <span class="at">replacement =</span> <span class="st">"Ь"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Ьdl" "Snm" "Nqr" "Cka" "Jgf" "Ruu" "Vlo" "Koi" "Ejt" "Tmp" "Nvd" "Vin"
[13] "Ysv" "Zrk" "Eph" "Swx" "Yey" "Ytg" "Ixs" "Ccw" "Hfj" "Zab" "Gbz" "Jhe"
[25] "Iyc" "Szq"</code></pre>
</div>
</div>
</section>
<section id="удаление-подстроки" class="level4" data-number="2.33.4.3">
<h4 data-number="2.33.4.3" class="anchored" data-anchor-id="удаление-подстроки"><span class="header-section-number">2.33.4.3</span> Удаление подстроки</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a>unsorted_s</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Odl" "Snm" "Nqr" "Cka" "Jgf" "Ruu" "Vlo" "Koi" "Ejt" "Tmp" "Nvd" "Vin"
[13] "Ysv" "Zrk" "Eph" "Swx" "Yey" "Ytg" "Ixs" "Ccw" "Hfj" "Zab" "Gbz" "Jhe"
[25] "Iyc" "Szq"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb238"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_remove</span>(unsorted_s, <span class="st">"S"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Odl" "nm"  "Nqr" "Cka" "Jgf" "Ruu" "Vlo" "Koi" "Ejt" "Tmp" "Nvd" "Vin"
[13] "Ysv" "Zrk" "Eph" "wx"  "Yey" "Ytg" "Ixs" "Ccw" "Hfj" "Zab" "Gbz" "Jhe"
[25] "Iyc" "zq" </code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="регулярные-выражения" class="level2" data-number="2.34">
<h2 data-number="2.34" class="anchored" data-anchor-id="регулярные-выражения"><span class="header-section-number">2.34</span> Регулярные выражения</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'21.92.2001'</span>, <span class="st">'01.04.1994'</span>, <span class="st">'5-3-2011'</span>, <span class="st">'6/04/1999'</span>)</span>
<span id="cb240-2"><a href="#cb240-2" aria-hidden="true" tabindex="-1"></a>dates</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "21.92.2001" "01.04.1994" "5-3-2011"   "6/04/1999" </code></pre>
</div>
</div>
<section id="метасимволы" class="level3" data-number="2.34.1">
<h3 data-number="2.34.1" class="anchored" data-anchor-id="метасимволы"><span class="header-section-number">2.34.1</span> Метасимволы</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(dates, <span class="at">pattern =</span> <span class="st">"."</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;2&gt;&lt;1&gt;&lt;.&gt;&lt;9&gt;&lt;2&gt;&lt;.&gt;&lt;2&gt;&lt;0&gt;&lt;0&gt;&lt;1&gt;
[2] │ &lt;0&gt;&lt;1&gt;&lt;.&gt;&lt;0&gt;&lt;4&gt;&lt;.&gt;&lt;1&gt;&lt;9&gt;&lt;9&gt;&lt;4&gt;
[3] │ &lt;5&gt;&lt;-&gt;&lt;3&gt;&lt;-&gt;&lt;2&gt;&lt;0&gt;&lt;1&gt;&lt;1&gt;
[4] │ &lt;6&gt;&lt;/&gt;&lt;0&gt;&lt;4&gt;&lt;/&gt;&lt;1&gt;&lt;9&gt;&lt;9&gt;&lt;9&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(dates, <span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>) <span class="co"># экранирование метасимволов</span></span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ 21&lt;.&gt;92&lt;.&gt;2001
[2] │ 01&lt;.&gt;04&lt;.&gt;1994</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(dates, <span class="at">pattern =</span> <span class="st">"^0"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[2] │ &lt;0&gt;1.04.1994</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb248"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(dates, <span class="at">pattern =</span> <span class="st">"9$"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[4] │ 6/04/199&lt;9&gt;</code></pre>
</div>
</div>
</section>
<section id="классы-знаков" class="level3" data-number="2.34.2">
<h3 data-number="2.34.2" class="anchored" data-anchor-id="классы-знаков"><span class="header-section-number">2.34.2</span> Классы знаков</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(dates, <span class="at">pattern =</span> <span class="st">'</span><span class="sc">\\</span><span class="st">d'</span>) <span class="co"># ищем цифры</span></span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;2&gt;&lt;1&gt;.&lt;9&gt;&lt;2&gt;.&lt;2&gt;&lt;0&gt;&lt;0&gt;&lt;1&gt;
[2] │ &lt;0&gt;&lt;1&gt;.&lt;0&gt;&lt;4&gt;.&lt;1&gt;&lt;9&gt;&lt;9&gt;&lt;4&gt;
[3] │ &lt;5&gt;-&lt;3&gt;-&lt;2&gt;&lt;0&gt;&lt;1&gt;&lt;1&gt;
[4] │ &lt;6&gt;/&lt;0&gt;&lt;4&gt;/&lt;1&gt;&lt;9&gt;&lt;9&gt;&lt;9&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(dates, <span class="at">pattern =</span> <span class="st">'</span><span class="sc">\\</span><span class="st">D'</span>) <span class="co"># ищем не-цифры</span></span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ 21&lt;.&gt;92&lt;.&gt;2001
[2] │ 01&lt;.&gt;04&lt;.&gt;1994
[3] │ 5&lt;-&gt;3&lt;-&gt;2011
[4] │ 6&lt;/&gt;04&lt;/&gt;1999</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(<span class="st">'успешный успех'</span>, <span class="st">'</span><span class="sc">\\</span><span class="st">s'</span>) <span class="co"># пробелы</span></span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ успешный&lt; &gt;успех</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb256"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(<span class="st">'успешный успех'</span>, <span class="st">'</span><span class="sc">\\</span><span class="st">S'</span>) <span class="co"># не-пробелы</span></span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;у&gt;&lt;с&gt;&lt;п&gt;&lt;е&gt;&lt;ш&gt;&lt;н&gt;&lt;ы&gt;&lt;й&gt; &lt;у&gt;&lt;с&gt;&lt;п&gt;&lt;е&gt;&lt;х&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(<span class="st">'верно ведь, что здесь что-то есть'</span>, <span class="st">'</span><span class="sc">\\</span><span class="st">w'</span>) <span class="co"># не пробелы и не знаки препинания</span></span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;в&gt;&lt;е&gt;&lt;р&gt;&lt;н&gt;&lt;о&gt; &lt;в&gt;&lt;е&gt;&lt;д&gt;&lt;ь&gt;, &lt;ч&gt;&lt;т&gt;&lt;о&gt; &lt;з&gt;&lt;д&gt;&lt;е&gt;&lt;с&gt;&lt;ь&gt; &lt;ч&gt;&lt;т&gt;&lt;о&gt;-&lt;т&gt;&lt;о&gt; &lt;е&gt;&lt;с&gt;&lt;т&gt;&lt;ь&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(<span class="st">'верно ведь, что здесь что-то есть'</span>, <span class="st">'</span><span class="sc">\\</span><span class="st">W'</span>) <span class="co"># пробелы и знаки препинания</span></span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ верно&lt; &gt;ведь&lt;,&gt;&lt; &gt;что&lt; &gt;здесь&lt; &gt;что&lt;-&gt;то&lt; &gt;есть</code></pre>
</div>
</div>
</section>
<section id="квантификация" class="level3" data-number="2.34.3">
<h3 data-number="2.34.3" class="anchored" data-anchor-id="квантификация"><span class="header-section-number">2.34.3</span> Квантификация</h3>
<ul>
<li><code>?</code> — ноль или один раз</li>
<li><code>*</code> — ноль или более раз</li>
<li><code>+</code> — один или более раз</li>
<li><code>{n}</code> — n раз</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(dates, <span class="st">'</span><span class="sc">\\</span><span class="st">d{2}'</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;21&gt;.&lt;92&gt;.&lt;20&gt;&lt;01&gt;
[2] │ &lt;01&gt;.&lt;04&gt;.&lt;19&gt;&lt;94&gt;
[3] │ 5-3-&lt;20&gt;&lt;11&gt;
[4] │ 6/&lt;04&gt;/&lt;19&gt;&lt;99&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="дата-и-время" class="level2" data-number="2.35">
<h2 data-number="2.35" class="anchored" data-anchor-id="дата-и-время"><span class="header-section-number">2.35</span> Дата и время</h2>
<section id="почему-это-особый-тип-данных" class="level3" data-number="2.35.1">
<h3 data-number="2.35.1" class="anchored" data-anchor-id="почему-это-особый-тип-данных"><span class="header-section-number">2.35.1</span> Почему это особый тип данных?</h3>
<ul>
<li>Год ≠ 365 дней: високосные года</li>
<li>Сутки ≠ 24 часа: переход на зимнее и летнее время</li>
<li>Минута ≠ 60 секунд: компенсация замедления вращения земли (30 июня 23:59:60 или 31 декабря 23:59:60)</li>
</ul>
<p>Все это автоматически обрабатывает <code>lubridate</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb264"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="fu">today</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-02-13"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb266"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="fu">now</span>()</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-02-13 16:01:45 MSK"</code></pre>
</div>
</div>
</section>
</section>
<section id="форматы-даты-и-времени" class="level2" data-number="2.36">
<h2 data-number="2.36" class="anchored" data-anchor-id="форматы-даты-и-времени"><span class="header-section-number">2.36</span> Форматы даты и времени</h2>
<ul>
<li><code>yyyy-mm-dd</code> — является международным стандартом
<ul>
<li>в таком формате с датой можно работать как со строкой, что оказывается удобно для баз данных</li>
</ul></li>
<li><code>dd/mm/yy</code>, <code>dd/mm/yyyy</code>, <code>dd.mm.yyyy</code> — используется в Европе</li>
<li><code>mm/dd/yy</code>, <code>mm/dd/yyyy</code> — используется в США</li>
<li>Unix-timestamp (число) — количество секунд с 01.01.1970, используется в базах данных</li>
</ul>
</section>
<section id="операции-над-датами" class="level2" data-number="2.37">
<h2 data-number="2.37" class="anchored" data-anchor-id="операции-над-датами"><span class="header-section-number">2.37</span> Операции над датами</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb268"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="do">## текущий timestamp</span></span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="fu">now</span>())</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1739451706</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb270"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(<span class="fu">now</span>())</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2025</code></pre>
</div>
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(<span class="fu">now</span>())</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb274"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a><span class="fu">day</span>(<span class="fu">now</span>())</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb276"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hour</span>(<span class="fu">now</span>())</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb278"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a><span class="fu">minute</span>(<span class="fu">now</span>())</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb280"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a><span class="fu">second</span>(<span class="fu">now</span>())</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45.7651</code></pre>
</div>
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(<span class="fu">ymd_hm</span>(<span class="st">"2023-01-21, 21:00"</span>), <span class="fu">ymd_hm</span>(<span class="st">"2023-01-21, 18:10"</span>), <span class="at">units =</span> <span class="st">"mins"</span>)</span></code><button title="Копировать" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 170 mins</code></pre>
</div>
</div>
</section>
<section id="зачем-нужна-визуализация" class="level2" data-number="2.38">
<h2 data-number="2.38" class="anchored" data-anchor-id="зачем-нужна-визуализация"><span class="header-section-number">2.38</span> Зачем нужна визуализация?</h2>
<section id="квартет-анскомба" class="level3" data-number="2.38.1">
<h3 data-number="2.38.1" class="anchored" data-anchor-id="квартет-анскомба"><span class="header-section-number">2.38.1</span> Квартет Анскомба</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [44 × 4] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ id     : num [1:44] 1 1 1 1 2 2 2 2 3 3 ...
 $ dataset: num [1:44] 1 2 3 4 1 2 3 4 1 2 ...
 $ x      : num [1:44] 10 10 10 8 8 8 8 8 13 13 ...
 $ y      : num [1:44] 8.04 9.14 7.46 6.58 6.95 8.14 6.77 5.76 7.58 8.74 ...
 - attr(*, "spec")=
  .. cols(
  ..   id = col_double(),
  ..   dataset = col_double(),
  ..   x = col_double(),
  ..   y = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 7
  dataset     n mean_x mean_y  sd_x  sd_y   cor
    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1       1    11      9    7.5  3.32  2.03  0.82
2       2    11      9    7.5  3.32  2.03  0.82
3       3    11      9    7.5  3.32  2.03  0.82
4       4    11      9    7.5  3.32  2.03  0.82</code></pre>
</div>
</div>
<p>Но если это нарисовать, получим такое:</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-99-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="datasaurus" class="level3" data-number="2.38.2">
<h3 data-number="2.38.2" class="anchored" data-anchor-id="datasaurus"><span class="header-section-number">2.38.2</span> Datasaurus</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [1,846 × 3] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ dataset: chr [1:1846] "dino" "dino" "dino" "dino" ...
 $ x      : num [1:1846] 55.4 51.5 46.2 42.8 40.8 ...
 $ y      : num [1:1846] 97.2 96 94.5 91.4 88.3 ...
 - attr(*, "spec")=
  .. cols(
  ..   dataset = col_character(),
  ..   x = col_double(),
  ..   y = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 13 × 7
   dataset        n mean_x mean_y  sd_x  sd_y   cor
   &lt;chr&gt;      &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 away         142   54.3   47.8  16.8  26.9  -0.1
 2 bullseye     142   54.3   47.8  16.8  26.9  -0.1
 3 circle       142   54.3   47.8  16.8  26.9  -0.1
 4 dino         142   54.3   47.8  16.8  26.9  -0.1
 5 dots         142   54.3   47.8  16.8  26.9  -0.1
 6 h_lines      142   54.3   47.8  16.8  26.9  -0.1
 7 high_lines   142   54.3   47.8  16.8  26.9  -0.1
 8 slant_down   142   54.3   47.8  16.8  26.9  -0.1
 9 slant_up     142   54.3   47.8  16.8  26.9  -0.1
10 star         142   54.3   47.8  16.8  26.9  -0.1
11 v_lines      142   54.3   47.8  16.8  26.9  -0.1
12 wide_lines   142   54.3   47.8  16.8  26.9  -0.1
13 x_shape      142   54.3   47.8  16.8  26.9  -0.1</code></pre>
</div>
</div>
<p>Однако если это визуализировать, то будет вот что:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-103-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="виды-графиков" class="level2" data-number="2.39">
<h2 data-number="2.39" class="anchored" data-anchor-id="виды-графиков"><span class="header-section-number">2.39</span> Виды графиков</h2>
<section id="столбчатая-диаграмма-bar-plot-bar-graph" class="level3" data-number="2.39.1">
<h3 data-number="2.39.1" class="anchored" data-anchor-id="столбчатая-диаграмма-bar-plot-bar-graph"><span class="header-section-number">2.39.1</span> Столбчатая диаграмма (Bar plot, Bar graph)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-104-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="лучевая-диаграмма-sunburts" class="level3" data-number="2.39.2">
<h3 data-number="2.39.2" class="anchored" data-anchor-id="лучевая-диаграмма-sunburts"><span class="header-section-number">2.39.2</span> Лучевая диаграмма (Sunburts)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-105-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="круговая-диаграмма-pie-chart" class="level3" data-number="2.39.3">
<h3 data-number="2.39.3" class="anchored" data-anchor-id="круговая-диаграмма-pie-chart"><span class="header-section-number">2.39.3</span> Круговая диаграмма (Pie chart)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-106-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="линейная-диаграмма-line-graph-line-plot" class="level3" data-number="2.39.4">
<h3 data-number="2.39.4" class="anchored" data-anchor-id="линейная-диаграмма-line-graph-line-plot"><span class="header-section-number">2.39.4</span> Линейная диаграмма (Line graph, Line plot)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-107-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="гистограмма-histogram" class="level3" data-number="2.39.5">
<h3 data-number="2.39.5" class="anchored" data-anchor-id="гистограмма-histogram"><span class="header-section-number">2.39.5</span> Гистограмма (Histogram)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-108-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="график-плотности-распределения-density-plot" class="level3" data-number="2.39.6">
<h3 data-number="2.39.6" class="anchored" data-anchor-id="график-плотности-распределения-density-plot"><span class="header-section-number">2.39.6</span> График плотности распределения (Density plot)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-109-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="dot-plot" class="level3" data-number="2.39.7">
<h3 data-number="2.39.7" class="anchored" data-anchor-id="dot-plot"><span class="header-section-number">2.39.7</span> Dot plot</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-110-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ящик-с-усами-boxplot" class="level3" data-number="2.39.8">
<h3 data-number="2.39.8" class="anchored" data-anchor-id="ящик-с-усами-boxplot"><span class="header-section-number">2.39.8</span> Ящик с усами (Boxplot)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-111-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="violin-plot" class="level3" data-number="2.39.9">
<h3 data-number="2.39.9" class="anchored" data-anchor-id="violin-plot"><span class="header-section-number">2.39.9</span> Violin plot</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-112-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="график-интервальных-оценок-error-bar" class="level3" data-number="2.39.10">
<h3 data-number="2.39.10" class="anchored" data-anchor-id="график-интервальных-оценок-error-bar"><span class="header-section-number">2.39.10</span> График интервальных оценок (Error bar)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-113-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="диаграмма-рассеяния-scatter-plot" class="level3" data-number="2.39.11">
<h3 data-number="2.39.11" class="anchored" data-anchor-id="диаграмма-рассеяния-scatter-plot"><span class="header-section-number">2.39.11</span> Диаграмма рассеяния (Scatter plot)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-114-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="пузырьковая-диаграмма-bubble-plot" class="level3" data-number="2.39.12">
<h3 data-number="2.39.12" class="anchored" data-anchor-id="пузырьковая-диаграмма-bubble-plot"><span class="header-section-number">2.39.12</span> Пузырьковая диаграмма (Bubble plot)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-115-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="корреляционная-матрица-corrplot" class="level3" data-number="2.39.13">
<h3 data-number="2.39.13" class="anchored" data-anchor-id="корреляционная-матрица-corrplot"><span class="header-section-number">2.39.13</span> Корреляционная матрица (Corrplot)</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="l2_files/figure-html/unnamed-chunk-116-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="good-bad-practices-в-визуализации" class="level2" data-number="2.40">
<h2 data-number="2.40" class="anchored" data-anchor-id="good-bad-practices-в-визуализации"><span class="header-section-number">2.40</span> Good &amp; Bad practices в визуализации</h2>
<section id="хорошо" class="level3" data-number="2.40.1">
<h3 data-number="2.40.1" class="anchored" data-anchor-id="хорошо"><span class="header-section-number">2.40.1</span> Хорошо</h3>
<ul>
<li>Подписать оси так, чтобы было понятно, что они обозначают</li>
<li>Использовать контрастную палитру цветов (или обойтись черно-белой)</li>
<li><a href="https://www.color-blindness.com/coblis-color-blindness-simulator/">Проверить</a>, как видят график люди с цветовыми аномалиями зрения</li>
<li>Выстроить из визуализаций <a href="https://drive.google.com/file/d/1cZNl66staWqmAWjUhUXON6KeAXtK8NyB/view">историю</a></li>
</ul>
</section>
<section id="плохо" class="level3" data-number="2.40.2">
<h3 data-number="2.40.2" class="anchored" data-anchor-id="плохо"><span class="header-section-number">2.40.2</span> Плохо</h3>
<ul>
<li>Использовать разные диапазоны шкал или разный масштаб на графиках, которые необходимо сравнивать</li>
<li>Строить столбчатую диаграмму не от нуля</li>
<li>Строить визуализацию в 3D на бумаге</li>
<li>Строить круговую диаграму</li>
<li>Строить круговую диаграмму в 3D</li>
</ul>
<p>Больше примеров странных визуализаций <a href="https://viz.wtf/">тут</a>.</p>
</section>
</section>
<section id="философия-a-layered-grammar-of-graphics" class="level2" data-number="2.41">
<h2 data-number="2.41" class="anchored" data-anchor-id="философия-a-layered-grammar-of-graphics"><span class="header-section-number">2.41</span> Философия A Layered Grammar of Graphics</h2>
<ul>
<li>График состоит из нескольких независимых друг от друга элементов
<ul>
<li>основы графика (фон и оси)</li>
<li>системы координат</li>
<li>способов отображения данных (геометрических объектов)</li>
<li>шкал</li>
<li>фасетов</li>
</ul></li>
<li>Однотипные элементы графика располагаются на отдельных слоях</li>
<li>Вычисления отделены от визуализации</li>
<li>Дизайн отделен от содержания</li>
</ul>
<p>Эти принципы легли в основу пакета <code>ggplot2</code>.</p>
</section>
<section id="итоги" class="level2" data-number="2.42">
<h2 data-number="2.42" class="anchored" data-anchor-id="итоги"><span class="header-section-number">2.42</span> Итоги</h2>
<ul>
<li>Форматы файлов данных бывают разные и их нужно по-разному загружать в R</li>
<li>RStudio Projects — это хорошо и помогает воспроизводимости</li>
<li>Предобработка данных — это определенный набор операций, которые в <code>tidyverse</code> достаточно интуитивно реализованы</li>
<li>Строки и даты требуют к себе особого внимания</li>
<li>Визуализаций много, они разнообразны и каждая по-своему хороша</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Скопировано!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Скопировано!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./l1.html" class="pagination-link" aria-label="L1 // Основы R. Типы и структура данных. Функции и управляющие конструкции">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">L1 // Основы R. Типы и структура данных. Функции и управляющие конструкции</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./part-math.html" class="pagination-link" aria-label="Математика и статистика">
        <span class="nav-page-text">Математика и статистика</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>